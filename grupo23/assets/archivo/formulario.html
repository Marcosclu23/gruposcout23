<?php error_reporting(E_ALL); ?>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Inscripción Grupo Scout 23</title>
    <link rel="stylesheet" href="estilos.css">
    <link rel="shortcut icon" href="../media/cropped-Imagotipo-Adisca-Vertical-Web-YB-192x192.png">
</head>
<body>

    <h1>Formulario de Inscripción - Grupo Scout 23</h1>

<form action="" method="POST" enctype="multipart/form-data">
    <h2>Datos del niño/a</h2>

    <label>Nombre completo:</label>
    <input type="text" placeholder="Ingrese aquí el nombre y apellido" name="nombre" required>

    <label>Edad:</label>
    <input type="number" placeholder="Ingrese su edad" name="edad" required>

    <label>Fecha de nacimiento:</label>
    <input type="date" placeholder="dd/mm/aaaa" name="fecha_nac" required>

    <div style="display: flex; justify-content: space-between; margin-top: 10px; gap: 20px;">
        <!-- DNI Frente -->
        <div style="flex:1; text-align:center;">
            <label>DNI Frente:</label>
            <input type="file" name="dni_frente_nino" accept="image/*" onchange="mostrarImagen(this, 'dni_frente_preview')">
            <img id="dni_frente_preview" style="max-width:100%; margin-top:10px; display:none;">
        </div>

        <!-- DNI Dorso -->
        <div style="flex:1; text-align:center;">
            <label>DNI Dorso:</label>
            <input type="file" name="dni_dorso_nino" accept="image/*" onchange="mostrarImagen(this, 'dni_dorso_preview')">
            <img id="dni_dorso_preview" style="max-width:100%; margin-top:10px; display:none;">
        </div>
    </div>

    <label>¿Tiene obra social?</label>
    <select name="obra_social_opcion" id="obra_social_opcion" onchange="mostrarObraSocial()">
        <option value="no">NO</option>
        <option value="si">SI</option>
    </select>

    <div id="obra_social_contenedor" style="display:none; margin-top: 10px;">
        <div style="display:flex; justify-content:space-between; gap:20px;">
            <div style="flex:1; text-align:center;">
                <label>Foto Obra Social (Frente):</label>
                <input type="file" name="obra_frente" accept="image/*" onchange="mostrarImagen(this, 'obra_frente_preview')">
                <img id="obra_frente_preview" style="max-width:100%; margin-top:10px; display:none;">
            </div>
            <div style="flex:1; text-align:center;">
                <label>Foto Obra Social (Dorso):</label>
                <input type="file" name="obra_dorso" accept="image/*" onchange="mostrarImagen(this, 'obra_dorso_preview')">
                <img id="obra_dorso_preview" style="max-width:100%; margin-top:10px; display:none;">
            </div>
        </div>
    </div>
</form>

<br>
<form action="">
    <h2>Datos del adulto responsable</h2>

    <label>Nombre completo del adulto:</label>
    <input type="text" placeholder="Ingrese su nombre completo" name="tutor_nombre" required>

    <label>Relación (Padre, Madre o Tutor):</label>
    <select name="tutor_relacion" required>
        <option value="Padre">Padre</option>
        <option value="Madre">Madre</option>
        <option value="Tutor">Tutor</option>
    </select>

    <div style="display:flex; justify-content:space-between; gap:20px; margin-top:10px;">
        <div style="flex:1; text-align:center;">
            <label>DNI del adulto (Frente):</label>
            <input type="file" name="tutor_dni_frente" accept="image/*" onchange="mostrarImagen(this, 'tutor_dni_frente_preview')">
            <img id="tutor_dni_frente_preview" style="max-width:100%; margin-top:10px; display:none;">
        </div>
        <div style="flex:1; text-align:center;">
            <label>DNI del adulto (Dorso):</label>
            <input type="file" name="tutor_dni_dorso" accept="image/*" onchange="mostrarImagen(this, 'tutor_dni_dorso_preview')">
            <img id="tutor_dni_dorso_preview" style="max-width:100%; margin-top:10px; display:none;">
        </div>
    </div>

    <button type="submit" onclick="this.form.action='../../index.html';">Guardar Inscripción y Salir</button>
</form>
<br>
<form action="">
    <h1 class="elH"><u>IMPORTANTE</u></h1>
    <h4>tiene dos formas para Inscribirse:</h4>
    <strong>
    <ol>
        <li>Usted puede inscribirse de forma presencial en la parroquia La Santa Cruz.
            en los horarios de 15:45 a 16:00. Donde deberá llevar el DNI y la obra social.
            del chico/a (si tiene), y el DNI del adulto responsable. Tenga en cuenta que 
            si no lleva ni el DNI suyo o el del chico/a, no podrá inscribirlo al Grupo Scout N°23.
        </li>
<br>
        <li>La otra opción es por acá; solo deberá completar el formulario, imprimirlo y llevarlo.
            sábado de 15:45 a 16:00 donde se lo debera entregar o a la secretaria o al dirigente 
            del Grupo 23, y con esto se podrá inscribir. Cabe recalcar que deberás traer el DNI físico. 
            de ambos y la obra social del chico/a (si tiene). Ejemplo de cómo sacar captura al formulario.
            e imprimirlo:
        </li>
    </ol>
    </strong>
</form>

<script>
function mostrarImagen(input, idImg) {
    const file = input.files[0];
    const preview = document.getElementById(idImg);

    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            preview.src = e.target.result;
            preview.style.display = 'block';
            // Ocultar el input una vez que se cargó la imagen
            input.style.display = 'none';
        }
        reader.readAsDataURL(file);
    } else {
        preview.src = '';
        preview.style.display = 'none';
        input.style.display = 'block'; // volver a mostrar si no hay archivo
    }
}
function mostrarObraSocial() {
    const select = document.getElementById("obra_social_opcion");
    document.getElementById("obra_social_contenedor").style.display =
        select.value === "si" ? "block" : "none";
}

document.getElementById('formulario').addEventListener('submit', function(e) {
    e.preventDefault();
    this.submit();
    window.location.href = '../../index.html';
});
</script>


</body>
</html>
